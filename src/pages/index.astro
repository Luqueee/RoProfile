---
import Layout from '../layouts/Layout.astro';
import Card from '@/components/Card.astro';
import SearchUser from '@/components/forms/SearchUser.astro';
import '../styles/globals.css';

if (Astro.request.method === 'POST') {
    try {
        const data = await Astro.request.formData();
        const name = data.get('profilename');
        const type = data.get('profileOption');
        console.log(name);
        return Astro.redirect(`/profile/${type}-${name}`);
        // Do something with the data
    } catch (error) {
        if (error instanceof Error) {
            console.error(error.message);
        }
    }
}
---

<Layout title="Welcome to Astro.">
    <Card>
        <SearchUser />
    </Card>
</Layout>

<style></style>
